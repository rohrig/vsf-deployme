{"version":3,"file":"index.js","sources":["../src/api/exampleEndpoint/index.ts","../src/api/getProduct/index.ts","../src/index.server.ts"],"sourcesContent":["import { Endpoints } from '../../types';\n\nexport const exampleEndpoint: Endpoints['exampleEndpoint'] = async (\n  context,\n  params\n) => {\n  console.log('exampleEndpoint has been called');\n\n  // Example request could look like this:\n  // return await context.client.get(`example-url?id=${params.id}`);\n  return { data: 'Hello, Vue Storefront Integrator!' };\n};\n","import { Endpoints } from '../../types';\n\nexport const getProduct: Endpoints['getProduct'] = async (\n  context,\n  params\n) => {\n  console.log('getProduct has been called');\n\n  const product = await fetch('https://fakestoreapi.com/products/1')\n  .then(res=>res.json())\n  .then(json=>json)\n\n  return product;\n};\n","import axios from 'axios';\nimport { apiClientFactory } from '@vue-storefront/middleware';\nimport { MiddlewareConfig } from './index';\nimport * as apiEndpoints from './api';\n\n/**\n * In here you should create the client you'll use to communicate with the backend.\n * Axios is just an example.\n */\nconst buildClient = () => {\n  const axiosInstance = axios.create();\n  return axiosInstance\n}\n\nconst onCreate = (settings: MiddlewareConfig) => {\n  const client = buildClient();\n\n  return {\n    config: settings,\n    client\n  };\n};\n\nconst { createApiClient } = apiClientFactory<any, any>({\n  onCreate,\n  api: apiEndpoints,\n});\n\nexport { createApiClient };\n"],"names":["axios","apiClientFactory"],"mappings":";;;;;;;;;;;AAEO,MAAM,eAAe,GAAiC,OAC3D,OAAO,EACP,MAAM,KACJ;AACF,IAAA,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;;;AAI/C,IAAA,OAAO,EAAE,IAAI,EAAE,mCAAmC,EAAE,CAAC;AACvD,CAAC;;ACTM,MAAM,UAAU,GAA4B,OACjD,OAAO,EACP,MAAM,KACJ;AACF,IAAA,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;AAE1C,IAAA,MAAM,OAAO,GAAG,MAAM,KAAK,CAAC,qCAAqC,CAAC;SACjE,IAAI,CAAC,GAAG,IAAE,GAAG,CAAC,IAAI,EAAE,CAAC;AACrB,SAAA,IAAI,CAAC,IAAI,IAAE,IAAI,CAAC,CAAA;AAEjB,IAAA,OAAO,OAAO,CAAC;AACjB,CAAC;;;;;;;;ACRD;;;AAGG;AACH,MAAM,WAAW,GAAG,MAAK;AACvB,IAAA,MAAM,aAAa,GAAGA,yBAAK,CAAC,MAAM,EAAE,CAAC;AACrC,IAAA,OAAO,aAAa,CAAA;AACtB,CAAC,CAAA;AAED,MAAM,QAAQ,GAAG,CAAC,QAA0B,KAAI;AAC9C,IAAA,MAAM,MAAM,GAAG,WAAW,EAAE,CAAC;IAE7B,OAAO;AACL,QAAA,MAAM,EAAE,QAAQ;QAChB,MAAM;KACP,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,EAAE,eAAe,EAAE,GAAGC,2BAAgB,CAAW;IACrD,QAAQ;AACR,IAAA,GAAG,EAAE,YAAY;AAClB,CAAA;;;;"}